function j(r){"@babel/helpers - typeof";return j=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j(r)}function X(){return typeof XMLHttpRequest=="function"||(typeof XMLHttpRequest>"u"?"undefined":j(XMLHttpRequest))==="object"}function C(r){return!!r&&typeof r.then=="function"}function M(r){return C(r)?r:Promise.resolve(r)}const D="modulepreload",$=function(r,e){return new URL(r,e).href},q={},U=function(e,n,t){let o=Promise.resolve();if(n&&n.length>0){let s=function(f){return Promise.all(f.map(u=>Promise.resolve(u).then(l=>({status:"fulfilled",value:l}),l=>({status:"rejected",reason:l}))))};const a=document.getElementsByTagName("link"),c=document.querySelector("meta[property=csp-nonce]"),d=c?.nonce||c?.getAttribute("nonce");o=s(n.map(f=>{if(f=$(f,t),f in q)return;q[f]=!0;const u=f.endsWith(".css"),l=u?'[rel="stylesheet"]':"";if(!!t)for(let h=a.length-1;h>=0;h--){const v=a[h];if(v.href===f&&(!u||v.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${f}"]${l}`))return;const p=document.createElement("link");if(p.rel=u?"stylesheet":D,u||(p.as="script"),p.crossOrigin="",p.href=f,d&&p.setAttribute("nonce",d),document.head.appendChild(p),u)return new Promise((h,v)=>{p.addEventListener("load",h),p.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${f}`)))})}))}function i(s){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=s,window.dispatchEvent(a),!a.defaultPrevented)throw s}return o.then(s=>{for(const a of s||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})};function _(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(r);e&&(t=t.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),n.push.apply(n,t)}return n}function E(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_(Object(n),!0).forEach(function(t){k(r,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach(function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(n,t))})}return r}function k(r,e,n){return(e=I(e))in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function I(r){var e=B(r,"string");return w(e)=="symbol"?e:e+""}function B(r,e){if(w(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var t=n.call(r,e);if(w(t)!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function w(r){"@babel/helpers - typeof";return w=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w(r)}var m=typeof fetch=="function"?fetch:void 0;(typeof window<"u"&&window.fetch||typeof window<"u"&&window.fetch)&&(m=window.fetch);var b;X()&&(typeof window<"u"&&window.XMLHttpRequest||typeof window<"u"&&window.XMLHttpRequest)&&(b=window.XMLHttpRequest);var O;typeof ActiveXObject=="function"&&(typeof window<"u"&&window.ActiveXObject||typeof window<"u"&&window.ActiveXObject)&&(O=window.ActiveXObject);typeof m!="function"&&(m=void 0);if(!m&&!b&&!O)try{U(()=>import("../cross-fetch/DzBBQrnD.js").then(r=>r.b),[],import.meta.url).then(function(r){m=r.default}).catch(function(){})}catch{}var S=function(e,n){if(n&&w(n)==="object"){var t="";for(var o in n)t+="&"+encodeURIComponent(o)+"="+encodeURIComponent(n[o]);if(!t)return e;e=e+(e.indexOf("?")!==-1?"&":"?")+t.slice(1)}return e},R=function(e,n,t,o){var i=function(c){if(!c.ok)return t(c.statusText||"Error",{status:c.status});c.text().then(function(d){t(null,{status:c.status,data:d})}).catch(t)};if(o){var s=o(e,n);if(s instanceof Promise){s.then(i).catch(t);return}}typeof fetch=="function"?fetch(e,n).then(i).catch(t):m(e,n).then(i).catch(t)},H=!1,F=function(e,n,t,o){e.queryStringParams&&(n=S(n,e.queryStringParams));var i=E({},typeof e.customHeaders=="function"?e.customHeaders():e.customHeaders);typeof window>"u"&&typeof window<"u"&&typeof window.process<"u"&&window.process.versions&&window.process.versions.node&&(i["User-Agent"]="i18next-http-backend (node/".concat(window.process.version,"; ").concat(window.process.platform," ").concat(window.process.arch,")")),t&&(i["Content-Type"]="application/json");var s=typeof e.requestOptions=="function"?e.requestOptions(t):e.requestOptions,a=E({method:t?"POST":"GET",body:t?e.stringify(t):void 0,headers:i},H?{}:s),c=typeof e.alternateFetch=="function"&&e.alternateFetch.length>=1?e.alternateFetch:void 0;try{R(n,a,o,c)}catch(d){if(!s||Object.keys(s).length===0||!d.message||d.message.indexOf("not implemented")<0)return o(d);try{Object.keys(s).forEach(function(f){delete a[f]}),R(n,a,o,c),H=!0}catch(f){o(f)}}},N=function(e,n,t,o){t&&w(t)==="object"&&(t=S("",t).slice(1)),e.queryStringParams&&(n=S(n,e.queryStringParams));try{var i=b?new b:new O("MSXML2.XMLHTTP.3.0");i.open(t?"POST":"GET",n,1),e.crossDomain||i.setRequestHeader("X-Requested-With","XMLHttpRequest"),i.withCredentials=!!e.withCredentials,t&&i.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),i.overrideMimeType&&i.overrideMimeType("application/json");var s=e.customHeaders;if(s=typeof s=="function"?s():s,s)for(var a in s)i.setRequestHeader(a,s[a]);i.onreadystatechange=function(){i.readyState>3&&o(i.status>=400?i.statusText:null,{status:i.status,data:i.responseText})},i.send(t)}catch(c){console&&console.log(c)}},W=function(e,n,t,o){if(typeof t=="function"&&(o=t,t=void 0),o=o||function(){},m&&n.indexOf("file:")!==0)return F(e,n,t,o);if(X()||typeof ActiveXObject=="function")return N(e,n,t,o);o(new Error("No fetch and no xhr implementation found!"))};function g(r){"@babel/helpers - typeof";return g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g(r)}function L(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(r);e&&(t=t.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),n.push.apply(n,t)}return n}function P(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?L(Object(n),!0).forEach(function(t){A(r,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach(function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(n,t))})}return r}function K(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function G(r,e){for(var n=0;n<e.length;n++){var t=e[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(r,T(t.key),t)}}function J(r,e,n){return e&&G(r.prototype,e),Object.defineProperty(r,"prototype",{writable:!1}),r}function A(r,e,n){return(e=T(e))in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function T(r){var e=Q(r,"string");return g(e)=="symbol"?e:e+""}function Q(r,e){if(g(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var t=n.call(r,e);if(g(t)!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var V=function(){return{loadPath:"/locales/{{lng}}/{{ns}}.json",addPath:"/locales/add/{{lng}}/{{ns}}",parse:function(n){return JSON.parse(n)},stringify:JSON.stringify,parsePayload:function(n,t,o){return A({},t,o||"")},parseLoadPayload:function(n,t){},request:W,reloadInterval:typeof window<"u"?!1:60*60*1e3,customHeaders:{},queryStringParams:{},crossDomain:!1,withCredentials:!1,overrideMimeType:!1,requestOptions:{mode:"cors",credentials:"same-origin",cache:"default"}}},x=function(){function r(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};K(this,r),this.services=e,this.options=n,this.allOptions=t,this.type="backend",this.init(e,n,t)}return J(r,[{key:"init",value:function(n){var t=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(this.services=n,this.options=P(P(P({},V()),this.options||{}),o),this.allOptions=i,this.services&&this.options.reloadInterval){var s=setInterval(function(){return t.reload()},this.options.reloadInterval);g(s)==="object"&&typeof s.unref=="function"&&s.unref()}}},{key:"readMulti",value:function(n,t,o){this._readAny(n,n,t,t,o)}},{key:"read",value:function(n,t,o){this._readAny([n],n,[t],t,o)}},{key:"_readAny",value:function(n,t,o,i,s){var a=this,c=this.options.loadPath;typeof this.options.loadPath=="function"&&(c=this.options.loadPath(n,o)),c=M(c),c.then(function(d){if(!d)return s(null,{});var f=a.services.interpolator.interpolate(d,{lng:n.join("+"),ns:o.join("+")});a.loadUrl(f,s,t,i)})}},{key:"loadUrl",value:function(n,t,o,i){var s=this,a=typeof o=="string"?[o]:o,c=typeof i=="string"?[i]:i,d=this.options.parseLoadPayload(a,c);this.options.request(this.options,n,d,function(f,u){if(u&&(u.status>=500&&u.status<600||!u.status))return t("failed loading "+n+"; status code: "+u.status,!0);if(u&&u.status>=400&&u.status<500)return t("failed loading "+n+"; status code: "+u.status,!1);if(!u&&f&&f.message){var l=f.message.toLowerCase(),y=["failed","fetch","network","load"].find(function(v){return l.indexOf(v)>-1});if(y)return t("failed loading "+n+": "+f.message,!0)}if(f)return t(f,!1);var p,h;try{typeof u.data=="string"?p=s.options.parse(u.data,o,i):p=u.data}catch{h="failed parsing "+n+" to json"}if(h)return t(h,!1);t(null,p)})}},{key:"create",value:function(n,t,o,i,s){var a=this;if(this.options.addPath){typeof n=="string"&&(n=[n]);var c=this.options.parsePayload(t,o,i),d=0,f=[],u=[];n.forEach(function(l){var y=a.options.addPath;typeof a.options.addPath=="function"&&(y=a.options.addPath(l,t));var p=a.services.interpolator.interpolate(y,{lng:l,ns:t});a.options.request(a.options,p,c,function(h,v){d+=1,f.push(h),u.push(v),d===n.length&&typeof s=="function"&&s(f,u)})})}}},{key:"reload",value:function(){var n=this,t=this.services,o=t.backendConnector,i=t.languageUtils,s=t.logger,a=o.language;if(!(a&&a.toLowerCase()==="cimode")){var c=[],d=function(u){var l=i.toResolveHierarchy(u);l.forEach(function(y){c.indexOf(y)<0&&c.push(y)})};d(a),this.allOptions.preload&&this.allOptions.preload.forEach(function(f){return d(f)}),c.forEach(function(f){n.allOptions.ns.forEach(function(u){o.read(f,u,"read",null,null,function(l,y){l&&s.warn("loading namespace ".concat(u," for language ").concat(f," failed"),l),!l&&y&&s.log("loaded namespace ".concat(u," for language ").concat(f),y),o.loaded("".concat(f,"|").concat(u),l,y)})})})}}}])}();x.type="backend";export{x as B};
